[![npm version](https://badge.fury.io/js/react-state-hook.svg)](https://badge.fury.io/js/react-state-hook)
[![Build Status](https://travis-ci.org/edward-hong/react-state-hook.svg?branch=master)](https://travis-ci.org/edward-hong/react-state-hook)
[![Coverage Status](https://coveralls.io/repos/github/edward-hong/react-state-hook/badge.svg?branch=master)](https://coveralls.io/github/edward-hong/react-state-hook?branch=master)
[![js-standard-style](https://img.shields.io/badge/code%20style-standard-brightgreen.svg)](http://standardjs.com/)
[![MIT License](https://img.shields.io/npm/l/react-css-spinners.svg)](https://github.com/alex996/react-css-spinners/blob/master/LICENSE)

# React Flux Hook

This repo is derived from the following [Medium Article](https://medium.com/simply/state-management-with-react-hooks-and-context-api-at-10-lines-of-code-baf6be8302c).

## Installation

### npm

```sh
npm i -S react-state-hook
```

### yarn

```sh
yarn add react-state-hook
```

## Usage

### Enhance Your App with Global State

```js
import { StateProvider } from 'react-state-hook'

const App = () => {
	const initialState = {
		theme: { primary: 'green' },
	}

	const reducer = (state, action) => {
		switch (action.type) {
			case 'changeTheme':
				return {
					...state,
					theme: action.newTheme,
				}

			default:
				return state
		}
	}

	return (
		<StateProvider initialState={initialState} reducer={reducer}>
			// App content ...
		</StateProvider>
	)
}
```

### Then Use and Update the State Inside Your App

````js
import { useStateValue } from 'react-state-hook'

const ThemedButton = () => {
  const [{ theme }, dispatch] = useStateValue()
  return (
    <Button
      primaryColor={theme.primary}
      onClick={() => dispatch({
        type: 'changeTheme',
        newTheme: { primary: 'blue'}
      })}
    >
      Make me blue!
    </Button>
  )
}```
````

### For Class Componnets

```js
import React, { Component } from 'react'
import { StateContext } from 'react-state-hook'

class ThemedButton extends Component {
  static contextType = StateContext
  render() {
    const [{ theme }, dispatch] = this.context;
    return (
      <Button
        primaryColor={theme.primary}
        onClick={() => dispatch({
          type: 'changeTheme',
          newTheme: { primary: 'blue'}
        })}
      >
        Make me blue!
      </Button>
    )
  }
}
```

### Combining Reducers

```js
import userReducer from './reducers/user'
import basketReducer from './reducers/basket'

const mainReducer = ({ user, basket }, action) => {
	// middleware goes here, i.e calling analytics service, etc.

	return {
  	user: userReducer(user, action),
  	basket: basketReducer(basket, action)
	}
}
```

